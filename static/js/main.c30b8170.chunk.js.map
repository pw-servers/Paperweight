{"version":3,"sources":["icon/pw_icon.svg","components/dashboard/ConsoleTextRenderer.js","components/Socket.js","components/dashboard/Console.js","components/ErrorBoundary.js","components/Loading.js","components/Server.js","components/dashboard/Sidebar.js","components/dashboard/ServerActionStrip.js","components/Dashboard.js","components/Auth.js","components/UserDisplay.js","App.js","reportWebVitals.js","index.js"],"names":["_defs","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPwIcon","_ref","svgRef","title","titleId","props","viewBox","xmlnsXlink","xmlns","ref","id","offset","stopColor","stopOpacity","xlinkHref","x1","y1","x2","y2","gradientUnits","transform","d","fill","width","height","x","y","rx","ForwardRef","ConsoleTextRenderer","consoleRef","React","createRef","text","useEffect","current","scrollTop","scrollHeight","className","map","t","ind","line","index","outLine","trim","matches","matchAll","match","replaceAll","makeLinksClickable","decorateUserInput","escapeDangerousCharacters","ReactHTMLParser","parseLine","currentConnection","pendingPromise","socketConnect","ip","port","a","close","Promise","resolve","reject","events","EventEmitter","socket","io","connect","on","console","log","emit","once","onAny","type","args","ConnectionStateContext","createContext","Console","useState","consoleText","setConsoleText","inputHistory","setInputHistory","inputHistoryIndex","setInputHistoryIndex","connectionState","useContext","appendToConsole","split","flat","appendEventToConsole","event","updateConsoleHistory","records","rec","connection","removeListener","onKeyDown","e","value","unshift","ErrorBoundary","state","hasError","error","errorInfo","children","Component","Spinner","ServerIcon","phrase","name","w","slice","ServerComponent","server","clientInfo","addServerButton","endpoint","onClick","setEndpoint","setServerName","Sidebar","user","path","uid","isLoading","sort","b","serverItem","ServerActionStrip","pageState","PageIcon","page","StatusBadge","status","Badge","pill","renderTooltip","Tooltip","serverName","pages","setPage","connectionStatus","OverlayTrigger","placement","delay","show","hide","overlay","triggerHandler","size","Dashboard","setConnection","setConnectionStatus","internalSetEndpoint","retryConnect","ep","ActivePage","DashboardContainer","IfServerSelected","Provider","googleAuthProvider","firebase","auth","GoogleAuthProvider","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","LoginScreen","Button","variant","signInWithPopup","Login","UserDisplay","showOptions","setOptions","toggleOptions","DisplayName","pictureOnly","displayName","onMouseLeave","setTimeout","src","photoURL","alt","signOut","then","App","Container","style","maxWidth","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c30b8170.chunk.js","sourcesContent":["var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPwIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 129.969 75.306\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"b\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#5119de\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#a191e9\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"a\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 0,\n    stopColor: \"#000014\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#000014\",\n    stopOpacity: 0\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    xlinkHref: \"#a\",\n    id: \"c\",\n    x1: 27.563,\n    y1: 138.974,\n    x2: 183.648,\n    y2: 138.974,\n    gradientUnits: \"userSpaceOnUse\"\n  }), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    xlinkHref: \"#b\",\n    id: \"d\",\n    gradientUnits: \"userSpaceOnUse\",\n    x1: 511.931,\n    y1: 498.892,\n    x2: 188.965,\n    y2: 238.827\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-95.979 -105.81)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M264.717 182.96A146.583 146.583 0 00118.49 321.853a80.364 80.364 0 00-.332-.022 80.364 80.364 0 00-80.363 80.363 80.364 80.364 0 0078.41 80.235v.129H572.67v-.15a56.255 56.255 0 0055.053-56.16 56.255 56.255 0 00-56.254-56.257 56.255 56.255 0 00-11.84 1.422 119.581 119.581 0 00.826-13.58 119.581 119.581 0 00-119.58-119.58 119.581 119.581 0 00-52.705 12.41 146.583 146.583 0 00-123.453-67.701z\",\n    transform: \"matrix(-.1846 0 0 .2015 221.996 76.41)\",\n    fill: \"url(#d)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M187.153 132.812c-19.942 3.52-32.589 5.728-51.012 8.272 5.485 1.542 8.202 3.655 9.203 8.733a944.615 944.615 0 0025.486-9.024c-6.017 3.698-13.827 6.559-23.764 11.583 4.736 2.963 6.016 7.017 5.98 13.501 13.032-12.423 21.985-21.82 34.107-33.065z\",\n    fill: \"#fff\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: 0.265,\n    height: 2.117,\n    x: 198.803,\n    y: 91.413,\n    rx: 6.676,\n    fill: \"#fff\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPwIcon);\nexport default __webpack_public_path__ + \"static/media/pw_icon.d20ab7bc.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useEffect} from \"react\";\r\nimport ReactHTMLParser from 'react-html-parser';\r\n\r\n// This file contains a lot of raw HTML (not JSX) that is parsed by ReactHTMLParser.\r\n// This is done to make it easier to handle the layers of parsing done to mark up the console text.\r\n// The formatting in an IDE may look strange.\r\n\r\nexport function ConsoleTextRenderer(props) {\r\n    let consoleRef = React.createRef();\r\n    const text = props.text;\r\n\r\n    useEffect(() => {\r\n        consoleRef.current.scrollTop = consoleRef.current.scrollHeight;\r\n    })\r\n\r\n    return (\r\n        <div className=\"console-text\" ref={consoleRef}>{\r\n            (text || []).map((t, ind) => {\r\n                return parseLine(t, ind);\r\n            })\r\n        }</div>\r\n    )\r\n}\r\n\r\nfunction parseLine(line, index) {\r\n    let outLine = line;\r\n    if(line.trim() === \"\") return;\r\n    // This is a strange way to format this, can't think of anything better though\r\n    outLine = makeLinksClickable(\r\n                decorateUserInput(\r\n                    escapeDangerousCharacters(\r\n                        line.trim()\r\n                    )\r\n                )\r\n    )\r\n\r\n    return <p key={index}>{ReactHTMLParser(outLine)}</p>;\r\n}\r\n\r\nfunction makeLinksClickable(line) {\r\n    const matches = line.matchAll(/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)/gi);\r\n    for (let match of matches) {\r\n        line = line.replaceAll(match[0], \"<a target='_blank' class='console-link' href='\" + match[0] +\"'>\" + match[0] + \"</a>\");\r\n    }\r\n    return line;\r\n}\r\n\r\nfunction decorateUserInput(line) {\r\n    if(!(line[0] === \"[\")) {\r\n        return \"<strong class='text-muted'>> \" + line + \"</strong>\";\r\n    }\r\n    return line;\r\n}\r\n\r\nfunction escapeDangerousCharacters(line) {\r\n    return line.replaceAll(\">\", \"&gt;\").replaceAll(\"<\", \"&lt;\");\r\n}\r\n\r\n","import { io } from \"socket.io-client\";\r\nimport {EventEmitter} from 'events';\r\nimport React from \"react\";\r\n\r\nlet currentConnection = null;\r\nlet pendingPromise = null;\r\n\r\nexport async function socketConnect(ip, port) {\r\n    if(currentConnection) {\r\n        currentConnection.close();\r\n    }\r\n\r\n    currentConnection = null;\r\n    pendingPromise = new Promise((resolve, reject) => {\r\n\r\n        let events = new EventEmitter();\r\n\r\n        let socket = io.connect(ip + \":\" + port);\r\n        currentConnection = socket;\r\n\r\n        socket.on('connect', () => {\r\n            console.log(\"Connected to \" + ip + \":\" + port);\r\n            socket.emit('action', 'history_request', {\r\n                \"id\": \"default\"\r\n            });\r\n            socket.once('disconnect', () => {\r\n                events.emit('disconnect');\r\n            })\r\n            resolve(events);\r\n        })\r\n\r\n        socket.onAny((...args) => {\r\n            // console.log(\"[\" + args[2] + \"]: \" + JSON.stringify(args[3]));\r\n            events.emit(args[2], args[3]);\r\n        })\r\n\r\n        events.on('action', (type, args) => {\r\n            socket.emit('action', type, args);\r\n        })\r\n    })\r\n    return pendingPromise;\r\n}\r\n\r\nexport const ConnectionStateContext = React.createContext(null);","import React, {useEffect, useState} from 'react';\r\nimport {ConsoleTextRenderer} from \"./ConsoleTextRenderer\";\r\nimport {ConnectionStateContext} from \"../Socket\";\r\nimport {ArrowRightCircle} from \"react-bootstrap-icons\";\r\n\r\nfunction Console(props) {\r\n\r\n    let [consoleText, setConsoleText] = useState([]);\r\n    let [inputHistory, setInputHistory] = useState([]);\r\n    let [inputHistoryIndex, setInputHistoryIndex] = useState(-1);\r\n\r\n    const connectionState = React.useContext(ConnectionStateContext);\r\n\r\n    useEffect(() => {\r\n        function appendEventToConsole(event) {\r\n            appendToConsole(event.text);\r\n        }\r\n\r\n        function updateConsoleHistory(event) {\r\n            setConsoleText(event.records.map(rec => {return (rec.args.text || \"\").split(\"\\n\")}).flat());\r\n        }\r\n\r\n        connectionState.connection.on('history', updateConsoleHistory);\r\n        connectionState.connection.on('server_output', appendEventToConsole);\r\n\r\n        return () => {\r\n            connectionState.connection.removeListener('history', updateConsoleHistory);\r\n            connectionState.connection.removeListener('server_output', appendEventToConsole);\r\n        }\r\n    }, [consoleText, connectionState, appendToConsole]);\r\n\r\n    function appendToConsole(text) {\r\n        consoleText = [...consoleText, text.split(\"\\n\")].flat();\r\n        setConsoleText(consoleText);\r\n    }\r\n\r\n    function handleInput(e) {\r\n        if (e.key === \"Enter\") {\r\n            appendToConsole(e.target.value);\r\n            inputHistory.unshift(e.target.value);\r\n            setInputHistory(inputHistory);\r\n            connectionState.connection.emit('action', 'server_input', {id: \"default\", text: e.target.value + \"\\r\\n\"});\r\n            e.target.value = \"\";\r\n        }\r\n        if (e.key === \"ArrowUp\") {\r\n            if (inputHistoryIndex < inputHistory.length - 1) {\r\n                inputHistoryIndex += 1;\r\n                setInputHistoryIndex(inputHistoryIndex);\r\n                e.target.value = inputHistory[inputHistoryIndex];\r\n            }\r\n        }\r\n        if (e.key === \"ArrowDown\") {\r\n             if(inputHistoryIndex > 0) {\r\n                 inputHistoryIndex -= 1;\r\n                 setInputHistoryIndex(inputHistoryIndex);\r\n                 e.target.value = inputHistory[inputHistoryIndex];\r\n             }\r\n        }\r\n        else {\r\n            setInputHistoryIndex(-1);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"console\">\r\n            <ConsoleTextRenderer text={consoleText} />\r\n            <div className=\"console-input-container\">\r\n                <input type=\"text\" id=\"consoleCommand\" className=\"console-input\" onKeyDown={handleInput} />\r\n                <ArrowRightCircle />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Console;","import React from \"react\";\r\nimport {ExclamationTriangleFill} from \"react-bootstrap-icons\";\r\n\r\n// From React docs\r\nexport class ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {    // Update state so the next render will show the fallback UI.\r\n        return { hasError: true };\r\n\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {    // You can also log the error to an error reporting service\r\n        console.log(error, errorInfo);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {      // You can render any custom fallback UI\r\n            return (\r\n                <div className=\"d-flex flex-column align-items-center justify-content-center w-100 h-100\">\r\n                    <ExclamationTriangleFill className=\"text-muted\" />\r\n                    <span className=\"text-muted text-center\">Something went wrong.</span>\r\n                </div>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport function Spinner(props) {\r\n    return (\r\n        <div className=\"spinner-container\">\r\n            <div className=\"spinner\">\r\n                <div className=\"spinner-component\"></div>\r\n                <div className=\"spinner-component\"></div>\r\n                <div className=\"spinner-component\"></div>\r\n                <div className=\"spinner-component\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useContext} from 'react';\r\nimport {Plus} from \"react-bootstrap-icons\";\r\nimport {ConnectionStateContext} from \"./Socket\";\r\n\r\nfunction ServerIcon(props) {\r\n    // const type = props.type\r\n    // console.log(Object.keys(Server.TYPE_IMG_MAP), type);\r\n    // if (Object.keys(Server.TYPE_IMG_MAP).includes(type)) {\r\n    //     return (\r\n    //         <img src={\"img/\" + Server.TYPE_IMG_MAP[type]} className=\"server-icon\" alt={type + \" Logo\"} />\r\n    //     )\r\n    // }\r\n    // return <ServerImage className=\"server-icon\" />\r\n\r\n    function initialize(phrase) {\r\n        return phrase.split(\" \").map(w => w[0]).slice(0, 2);\r\n    }\r\n\r\n    return (\r\n        <div className=\"display-5 server-icon\">{initialize(props.name)}</div>\r\n    )\r\n}\r\n\r\n\r\nexport function ServerComponent(props) {\r\n    const server = props.server;\r\n    const clientInfo = props.clientInfo;\r\n\r\n    const connectionState = useContext(ConnectionStateContext);\r\n\r\n    if(props.addServerButton) {\r\n        return (\r\n            <div id=\"addServer\" className=\"d-flex flex-row align-items-center justify-content-flex-start server-icon-container\">\r\n                <div className=\"server-icon text-muted d-flex align-items-center justify-content-center\"><Plus /></div>\r\n                <span className=\"server-name\">Add a server</span>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className={(connectionState.endpoint === server.ip + \":\" + server.port ? \"selected \" : \"\") + \"d-flex flex-row align-items-center justify-content-flex-start server-icon-container\"}\r\n            onClick={async () => {await connectionState.setEndpoint(server.ip, server.port); connectionState.setServerName(clientInfo.name)}}>\r\n                <ServerIcon name={clientInfo.name}/>\r\n                <span className=\"server-name\">{clientInfo.name}</span>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport {ErrorBoundary} from \"../ErrorBoundary\";\r\nimport {FirestoreCollection, FirestoreDocument} from \"@react-firebase/firestore\";\r\nimport {Spinner} from \"../Loading\";\r\nimport {ServerComponent} from \"../Server\";\r\n\r\nexport function Sidebar(props) {\r\n    const user = props.user;\r\n\r\n    return (\r\n        <div className=\"d-flex flex-column justify-content-flex-start align-items-flex-start sidebar\">\r\n            <ErrorBoundary>\r\n                <FirestoreCollection path={\"/users/\" + user.uid + \"/servers/\"}>\r\n                    {(d) => {\r\n                        if(d.isLoading) {\r\n                            return <Spinner/>;\r\n                        } else {\r\n                            d.value.sort((a, b) => {\r\n                                return a.index - b.index;\r\n                            })\r\n                            return (\r\n                                d.value.map((server, index) => {\r\n                                    return (\r\n                                        <FirestoreDocument key={index} path={\"/servers/\" + server.id + \"/\"}>\r\n                                            {(serverItem) => {\r\n                                                if(serverItem.isLoading === false) {\r\n                                                    return (\r\n                                                        <ServerComponent clientInfo={server}\r\n                                                                         server={serverItem.value}/>\r\n                                                    )\r\n                                                } else {\r\n                                                    return \"\"\r\n                                                }\r\n                                            }}\r\n                                        </FirestoreDocument>\r\n                                    )\r\n                                })\r\n                            )\r\n                        }\r\n                    }\r\n                }\r\n                </FirestoreCollection>\r\n                <ServerComponent addServerButton={true} />\r\n            </ErrorBoundary>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {ConnectionStateContext} from \"../Socket\";\r\nimport {Power, ArrowRepeat, Terminal, People, Tools, Gear, Plug} from \"react-bootstrap-icons\";\r\nimport {OverlayTrigger, Tooltip, Badge} from \"react-bootstrap\";\r\n\r\nexport function ServerActionStrip(props) {\r\n    const connectionState = React.useContext(ConnectionStateContext);\r\n    const pageState = props.pageState;\r\n\r\n    function PageIcon(props) {\r\n        const size = 24;\r\n        const page = props.page;\r\n        switch(page) {\r\n            case 'Console':\r\n                return <Terminal className=\"menu-icon\" />\r\n            case 'Players':\r\n                return <People className=\"menu-icon\" />\r\n            case 'Tools':\r\n                return <Tools className=\"menu-icon\" />\r\n            case 'Settings':\r\n                return <Gear className=\"menu-icon\" />\r\n            default:\r\n                return <Plug className=\"menu-icon\" />\r\n        }\r\n    }\r\n\r\n    function StatusBadge(props) {\r\n        const status = props.status;\r\n        console.log(status);\r\n        switch(status) {\r\n            case 'connected':\r\n                return <Badge pill className=\"bg-success text-uppercase\">Connected</Badge>\r\n            case 'connecting':\r\n                return <Badge pill className=\"bg-warning text-uppercase\">Connecting...</Badge>\r\n            case 'disconnected':\r\n                return <Badge pill className=\"bg-danger text-uppercase\">Disconnected</Badge>\r\n            default:\r\n                return <Badge pill className=\"bg-secondary text-uppercase\">Status Unknown</Badge>\r\n        }\r\n    }\r\n\r\n    function renderTooltip(props) {\r\n        const text = props.text;\r\n        const id = props.id;\r\n\r\n        return (\r\n            <Tooltip id={id} className=\"no-animate\">\r\n                {text}\r\n            </Tooltip>\r\n        )\r\n    };\r\n\r\n    return (\r\n        <div className=\"d-flex flex-row align-items-center justify-content-start pb-4 w-100\">\r\n            <div id=\"serverNameCluster\" className=\"d-flex align-items-baseline justify-content-start\">\r\n                <strong className=\"gradient-text server-name\">{connectionState.serverName}</strong>\r\n                <small className=\"very-small text-light text-uppercase text-muted px-2\">{connectionState.endpoint}</small>\r\n            </div>\r\n\r\n            {/* Page Menu */}\r\n            <div className=\"flex-grow-1 d-flex flex-row align-items-center justify-content-around\">\r\n                {pageState.pages.map((page, index) => {\r\n                    return (\r\n                        <span key={index} className={\"d-flex flex-column align-items-center justify-content-start clickable menu-item p-2\" + (page === pageState.page ? \" selected\" : \"\")}\r\n                        onClick={() => {pageState.setPage(page)}}>\r\n                            <PageIcon page={page} />\r\n                            <small className=\"mt-1 text-muted\">{page}</small>\r\n                        </span>\r\n                    )\r\n                })}\r\n            </div>\r\n            <div className=\"d-flex flex-column align-items-end justify-content-center\">\r\n                <StatusBadge status={connectionState.connectionStatus} />\r\n                <div className=\"power-group d-flex flex-row align-items-center justify-content-center px-3 py-1 mt-1\">\r\n                    <OverlayTrigger placement=\"bottom\" delay={{ show: 500, hide: 500 }} overlay={renderTooltip({id: \"power-tooltip\", text: \"Turn on/off the server\"})}>\r\n                        {({ ref, ...triggerHandler }) => (\r\n                            <Power ref={ref} {...triggerHandler} className=\"px-2 clickable\" size={40} onClick={() => {connectionState.connection.emit('action', 'stop_server', {id: \"default\"})}} />\r\n                        )}\r\n                    </OverlayTrigger>\r\n                    <OverlayTrigger placement=\"bottom\" delay={{ show: 500, hide: 500 }} overlay={renderTooltip({id: \"power-tooltip\", text: \"Restart the server\"})}>\r\n                        {({ ref, ...triggerHandler }) => (\r\n                            <ArrowRepeat ref={ref} {...triggerHandler} className=\"px-2 clickable\" size={40} onClick={() => {connectionState.connection.emit('action', 'restart_server', {id: \"default\"})}} />\r\n                        )}\r\n                    </OverlayTrigger>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {IfFirebaseAuthed} from \"@react-firebase/auth\";\r\nimport Console from \"./dashboard/Console\";\r\nimport {Sidebar} from \"./dashboard/Sidebar\";\r\nimport {Spinner} from \"./Loading\";\r\nimport {ConnectionStateContext, socketConnect} from \"./Socket\";\r\nimport {EmojiLaughing, EmojiDizzy} from \"react-bootstrap-icons\";\r\nimport {ServerActionStrip} from \"./dashboard/ServerActionStrip\";\r\n\r\nexport function Dashboard(props) {\r\n\r\n    let [connection, setConnection] = useState(null);\r\n    let [connectionStatus, setConnectionStatus] = useState(\"disconnected\");\r\n    let [endpoint, internalSetEndpoint] = useState(null);\r\n    let [serverName, setServerName] = useState(null);\r\n    let [page, setPage] = useState(\"Console\");\r\n\r\n    let pages = [\"Console\", \"Players\", \"Tools\", \"Settings\"];\r\n\r\n    async function setEndpoint(ip, port) {\r\n        internalSetEndpoint(ip + \":\" + port);\r\n        setConnectionStatus(\"connecting\");\r\n        setConnection(await socketConnect(ip, port));\r\n        setConnectionStatus(\"connected\");\r\n    }\r\n\r\n    async function retryConnect() {\r\n        console.log(\"attempting reconnect\");\r\n        const ep = endpoint.split(\":\");\r\n        const ip = ep[0];\r\n        const port = ep[1];\r\n\r\n        await setEndpoint(ip, port);\r\n    }\r\n\r\n    let connectionState = {\r\n        connection,\r\n        connectionStatus,\r\n        endpoint,\r\n        serverName,\r\n        setEndpoint,\r\n        setServerName\r\n    };\r\n\r\n    let pageState = {\r\n        page,\r\n        pages,\r\n        setPage\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(connection != null) {\r\n            connection.on('disconnect', retryConnect);\r\n        }\r\n\r\n        return () => {\r\n            if(connection != null) {\r\n                connection.removeListener('disconnect', retryConnect);\r\n            }\r\n        }\r\n    });\r\n\r\n    function ActivePage(props) {\r\n        pageState = props.pageState;\r\n\r\n        switch(pageState.page) {\r\n            case \"Console\":\r\n                connectionState.connection.emit('action', 'history_request', {id: \"default\"});\r\n                return <Console />\r\n            default:\r\n                return (\r\n                    <div className=\"d-flex flex-column align-items-center justify-content-center pt-5\">\r\n                        <EmojiDizzy className=\"text-muted mb-3\" size={128} />\r\n                        <div className=\"text-muted display-5\">This page doesn't exist!</div>\r\n                        <div className=\"text-muted\">Not sure how this happened, but the page you tried to access doesn't exist...</div>\r\n                    </div>\r\n                )\r\n        }\r\n    }\r\n\r\n    function DashboardContainer(props) {\r\n        return (\r\n            <div id=\"dashboardContainer\">\r\n                <div id=\"dashboard\">\r\n                    <ServerActionStrip pageState={pageState} />\r\n                    <ActivePage pageState={pageState} />\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    function IfServerSelected(props) {\r\n        if(connectionState.connection != null && connectionStatus === \"connected\") {\r\n            return <DashboardContainer />\r\n        } else {\r\n            if(connectionState.connection != null) {\r\n                return (\r\n                    <div className=\"d-flex flex-column align-items-center justify-content-center pt-5\">\r\n                        <Spinner />\r\n                        <div className=\"text-muted pt-4\">Trying to connect to server...</div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div className=\"d-flex flex-column align-items-center justify-content-center pt-5\">\r\n                        <EmojiLaughing className=\"text-muted mb-3\" size={128} />\r\n                        <div className=\"text-muted display-5\">Hey there!</div>\r\n                        <div className=\"text-muted\">Pick or add a server on the <strong>sidebar</strong> to get started.</div>\r\n                    </div>\r\n                )\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <IfFirebaseAuthed>\r\n            {({ user }) => {\r\n                return (\r\n                    <ConnectionStateContext.Provider value={connectionState}>\r\n                        <Sidebar user={user} />\r\n                        <IfServerSelected />\r\n                    </ConnectionStateContext.Provider>\r\n                )\r\n            }}\r\n        </IfFirebaseAuthed>\r\n    )\r\n}","import React from \"react\";\r\n\r\nimport \"firebase/auth\";\r\nimport firebase from 'firebase/app'\r\nimport {FirebaseAuthConsumer, IfFirebaseAuthed, IfFirebaseUnAuthed} from \"@react-firebase/auth\";\r\nimport {ReactComponent as Icon} from \"../icon/pw_icon.svg\";\r\nimport {Button} from \"react-bootstrap\"\r\nimport {Dashboard} from \"./Dashboard\";\r\n\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const config = {\r\n    apiKey: \"AIzaSyBdSRrnavw7OcfIEOF-AhpS_wCb4QrGIDY\",\r\n    authDomain: \"paperweight-servers.firebaseapp.com\",\r\n    projectId: \"paperweight-servers\",\r\n    storageBucket: \"paperweight-servers.appspot.com\",\r\n    messagingSenderId: \"187944474431\",\r\n    appId: \"1:187944474431:web:44fbc8766400e31742e58a\"\r\n}\r\n\r\n// const onFormSubmit = (e) => {\r\n//     e.preventDefault()\r\n//     const formData = new FormData(e.target)\r\n//\r\n//     console.log(formData.get(\"email\"));\r\n//\r\n//     firebase.auth().signInWithEmailAndPassword(formData.get(\"email\"), formData.get(\"password\")).catch((err) => {\r\n//         if(err.code === \"auth/wrong-password\") {\r\n//             alert(\"wrong pw\");\r\n//         }\r\n//     })\r\n// }\r\n\r\nfunction LoginScreen() {\r\n    return (\r\n        <div id=\"authWindow\" className=\"d-flex flex-column align-content-center card card-body mx-auto\">\r\n            <small className=\"text-muted\">WELCOME TO</small>\r\n            <div className=\"d-inline-flex flex-row align-items-center\">\r\n                <Icon className=\"icon mb-1\"/>\r\n                <h5 className=\"display-5 fw-bold gradient-text\">Paperweight</h5>\r\n            </div>\r\n            {/*<hr className=\"text-muted\"/>*/}\r\n            {/*<Form onSubmit={onFormSubmit}>*/}\r\n            {/*    <Form.Group controlId=\"email\">*/}\r\n            {/*        <Form.Label>Email address</Form.Label>*/}\r\n            {/*        <Form.Control type=\"email\" placeholder=\"Enter email\"/>*/}\r\n            {/*    </Form.Group>*/}\r\n\r\n            {/*    <Form.Group controlId=\"password\">*/}\r\n            {/*        <Form.Label>Password</Form.Label>*/}\r\n            {/*        <Form.Control type=\"password\" placeholder=\"Password\"/>*/}\r\n            {/*    </Form.Group>*/}\r\n\r\n            {/*    <Button variant=\"primary\" type=\"submit\">*/}\r\n            {/*        Log in*/}\r\n            {/*    </Button>*/}\r\n            {/*</Form>*/}\r\n            {/*<div className=\"hr-text mt-4\">*/}\r\n            {/*    <small className=\"text-muted\">OR</small>*/}\r\n            {/*</div>*/}\r\n            <div className=\"mt-3\">\r\n                <Button variant=\"outline-primary\" onClick={() => {\r\n                    firebase.auth().signInWithPopup(googleAuthProvider)\r\n                }}>Log in with Google</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function Login(props) {\r\n    return (\r\n        <FirebaseAuthConsumer>\r\n            <IfFirebaseUnAuthed>\r\n                <LoginScreen />\r\n            </IfFirebaseUnAuthed>\r\n            <IfFirebaseAuthed>\r\n                <Dashboard />\r\n            </IfFirebaseAuthed>\r\n        </FirebaseAuthConsumer>\r\n    )\r\n}","import {ChevronDown, Gear, BoxArrowLeft} from \"react-bootstrap-icons\";\r\nimport \"firebase/auth\";\r\nimport {IfFirebaseAuthed} from \"@react-firebase/auth\";\r\nimport React, {useState} from \"react\";\r\nimport firebase from 'firebase/app'\r\n\r\nexport function UserDisplay(props) {\r\n    const [showOptions, setOptions] = useState(false);\r\n\r\n    const toggleOptions = () => {\r\n        setOptions(!showOptions);\r\n    };\r\n\r\n    function DisplayName(props) {\r\n        if (props.pictureOnly) {\r\n            return \"\"\r\n        }\r\n        return (<span className=\"mx-3 text-muted\">{props.user.displayName}</span>)\r\n    }\r\n\r\n    return (\r\n        <IfFirebaseAuthed>\r\n            {({ user }) => {\r\n                return (\r\n                    <div className={(showOptions ? \"expand\": \"\") + \" user-dropdown-container no-animate px-3\"} onMouseLeave={() => {setTimeout(() => {setOptions(false)}, 750)}}>\r\n                        <div id=\"userDisplay\" className=\"d-flex flex-row align-items-center justify-content-between\" onClick={toggleOptions}>\r\n                            <img src={user.photoURL} id=\"userPhoto\" alt={user.displayName + \" profile photo\"}/>\r\n                            <DisplayName user={user} pictureOnly={props.pictureOnly} />\r\n                            <ChevronDown className=\"text-muted\" />\r\n                        </div>\r\n                        <div className=\"user-dropdown-options\">\r\n                            <hr className=\"text-muted\" />\r\n                            <div className=\"option\">\r\n                                <Gear className=\"mx-2\" size={24} />\r\n                                <span>Settings</span>\r\n                            </div>\r\n                            <div className=\"option\" onClick={() => {firebase.auth().signOut().then(() => {setOptions(false)})}}>\r\n                                <BoxArrowLeft className=\"mx-2\" size={24} />\r\n                                <span>Log Out</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }}\r\n        </IfFirebaseAuthed>\r\n    )\r\n}","import { ReactComponent as Icon } from \"./icon/pw_icon.svg\";\r\nimport { Login, config } from \"./components/Auth\";\r\nimport { UserDisplay } from \"./components/UserDisplay\";\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport React from 'react';\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\";\r\nimport firebase from 'firebase/app'\r\nimport {FirebaseAuthProvider} from \"@react-firebase/auth\";\r\nimport {FirestoreProvider} from \"@react-firebase/firestore\";\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <Container>\r\n      <FirebaseAuthProvider firebase={firebase} {...config}>\r\n        <FirestoreProvider firebase={firebase} {...config}>\r\n          <header className=\"px-3\">\r\n            <div className=\"d-inline-flex flex-row align-items-center\">\r\n              <Icon className=\"icon mb-1\" />\r\n              <h5 className=\"display-5 fw-bold gradient-text\">Paperweight</h5>\r\n            </div>\r\n            <div className=\"flex-grow-1\" style={{maxWidth: \"50%\"}}></div>\r\n            <UserDisplay pictureOnly={false} />\r\n          </header>\r\n\r\n          <div className=\"content\">\r\n            <Login />\r\n          </div>\r\n        </FirestoreProvider>\r\n      </FirebaseAuthProvider>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/index.css';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}